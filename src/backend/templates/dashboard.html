<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IPT | Instituto de Pesquisas Tecnológicas</title>

    <!-- Custom fonts for this template -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link
      rel="icon"
      href="{{ url_for('static', filename = 'images/icon-ipt.png') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename = 'index.style.css') }}"
    />
  </head>

  <body>
    <div class="flex">
      <div>
        <img class="logo" src="../static/images/logo_ipt.png" alt="logo ipt" />
        <img
          class="arm"
          src="../static/images/braco_mecanico_2.png"
          alt="braço robótico"
        />
      </div>
      <div class="flex">

        <div>
          <canvas id="myChart"></canvas>
        </div>

      </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      const ctx = document.getElementById('myChart');

      var json = JSON.parse('{{ data|tojson|safe}}')
      var data = []
      var label = []
      for (let i = 0; i < json.length; i++) {
        label.push(json[i].label)
        data.push(json[i].data)
      }

      console.log(data, label)

      new Chart(ctx, {
        type: 'line',
        data: {
          labels: label,
          datasets: [{
            label: '{{ title }}',
            data: data,
            borderWidth: 1
          }]
        },
        options: {
          aspectRatio: 2,
          
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
    </script>
  </body>
</html>
